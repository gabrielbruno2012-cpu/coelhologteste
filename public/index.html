
<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>CoelhoLog - Login</title><link rel="stylesheet" href="/css/style.css"></head><body>
<main style="max-width:540px;margin:80px auto;">
  <div class="card" style="text-align:center;">
    <h2 style="color:var(--accent)">Portal Financeiro - CoelhoLog</h2>
    <input id="email" class="input" placeholder="E-mail"/><br/><br/>
    <input id="password" type="password" class="input" placeholder="Senha"/><br/><br/>
    <button class="btn" onclick="login()">Entrar</button>
    <p id="msg" class="small"></p>
  </div>
</main>
<script>
async function login(){
  const email=document.getElementById('email').value;
  const password=document.getElementById('password').value;
  const res = await fetch('/api/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})});
  if(res.ok){ const d = await res.json(); localStorage.setItem('usuario', JSON.stringify(d)); if(d.role==='financeiro') window.location='/admin/dashboard_admin.html'; else window.location='/colaborador/dashboard.html'; }
  else { document.getElementById('msg').innerText='Credenciais inv√°lidas'; }
}
</script>
</body></html>
